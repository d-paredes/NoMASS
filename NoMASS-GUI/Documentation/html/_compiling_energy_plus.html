<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Multi-Agent Stochastic Simulation framework: Compiling EnergyPlus</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Multi-Agent Stochastic Simulation framework
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_compiling_energy_plus.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Compiling EnergyPlus </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><ul><li class="level2"><a href="#Download-source-code">Download source code</a></li>
<li class="level2"><a href="#EnergyPlus-Source-Code-Changes">EnergyPlus Source Code Changes</a><ul><li class="level3"><a href="#DataSurfaces_hh">DataSurfaces.hh</a></li>
<li class="level3"><a href="#DaylightingManager_cc">DaylightingManager.cc</a></li>
<li class="level3"><a href="#EMSManager_cc">EMSManager.cc</a></li>
<li class="level3"><a href="#SolarShading_cc">SolarShading.cc</a></li>
<li class="level3"><a href="#SolarShading_hh">SolarShading.hh</a></li>
<li class="level3"><a href="#WindowManager_cc">WindowManager.cc</a></li>
</ul>
</li>
<li class="level2"><a href="#Compiling-on-Linux">Compiling on Linux</a></li>
<li class="level2"><a href="#Compiling-on-Windows">Compiling on Windows</a></li>
</ul>
</ul>
</div>
<div class="textblock"><div id="Introduction"></div><div id="Introduction">This chapter describes how to modify the EnergyPlus source code to allow shading interactions and the compilation process on Linux and Windows platforms. The compilation process is based on the Building EnergyPlus guide at <a href="https://github.com/NREL/EnergyPlus/wiki/BuildingEnergyPlus">https://github.com/NREL/EnergyPlus/wiki/BuildingEnergyPlus</a>.</div><div id="Introduction"><div id="Download-source-code"> </div></div><div id="Introduction"><div id="Download-source-code"><h2>Download source code</h2>
</div></div><div id="Introduction"><div id="Download-source-code"></div></div><div id="Introduction"><div id="Download-source-code">The source code can be download from the GitHub repository at <a href="https://energyplus.net/downloads">https://energyplus.net/downloads</a>. For example purpose, this guide is based on EnergyPlus <a href="https://github.com/NREL/EnergyPlus/releases/tag/v8.6.0">version 8.6.0</a>.</div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"> </div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><h2>EnergyPlus Source Code Changes</h2>
</div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"> Alter the source code to allow shading interactions.</div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"> </div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><h3>DataSurfaces.hh</h3>
</div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"></div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><div class="fragment"><div class="line">--- ../EnergyPlus-8.6.0/src/EnergyPlus/DataSurfaces.hh</div><div class="line">+++ ../EnergyPlus-8.6.0/src/EnergyPlus/DataSurfaces.hh</div><div class="line">@@ -938,7 +938,12 @@</div><div class="line">        //       triggered on later to control daylight glare</div><div class="line">        bool ShadingFlagEMSOn; // EMS control flag, true if EMS is controlling ShadingFlag with ShadingFlagEMSValue</div><div class="line">        int ShadingFlagEMSValue; // EMS control value for Shading Flag</div><div class="line">-               </div><div class="line">+       </div><div class="line">+       /* No-MASS new lines begin */</div><div class="line">+       bool ShadingFractionEMSOn; // EMS control flag, true if EMS is controlling ShadingFlag with ShadingFlagEMSValue</div><div class="line">+       double ShadingFractionEMSValue; // EMS control value for Shading Flag</div><div class="line">+       /* No-MASS new lines end */</div><div class="line">+       </div><div class="line">        int StormWinFlag; // -1: Storm window not applicable</div><div class="line">        //   0: Window has storm window but it is off</div><div class="line">        //   1: Window has storm window and it is on</div><div class="line">@@ -1167,6 +1172,8 @@</div><div class="line">            ShadingFlag( ShadeOff ),</div><div class="line">            ShadingFlagEMSOn( false ),</div><div class="line">            ShadingFlagEMSValue( 0 ),</div><div class="line">+           ShadingFractionEMSOn( false ), /* No-MASS new line --- */</div><div class="line">+           ShadingFractionEMSValue( 0 ), /* No-MASS new line --- */</div><div class="line">            StormWinFlag( -1 ),</div><div class="line">            StormWinFlagPrevDay( -1 ),</div><div class="line">            FracTimeShadingDeviceOn( 0.0 ),</div><div class="line">@@ -1326,6 +1333,361 @@</div><div class="line">            SpecTemp( 0.0 ),</div><div class="line">            WindowModelType( Window5DetailedModel )</div><div class="line">        {}</div><div class="line">+</div><div class="line">+       /* No-MASS new lines begin */</div><div class="line">+       // Member Constructor</div><div class="line">+       SurfaceWindowCalc(</div><div class="line">+           int const ShadingFlag, // -1: window has no shading device</div><div class="line">+           bool const ShadingFlagEMSOn, // EMS control flag, true if EMS is controlling ShadingFlag with ShadingFlagEMSValue</div><div class="line">+           int const ShadingFlagEMSValue, // EMS control value for Shading Flag</div><div class="line">+           bool const ShadingFractionEMSOn, // EMS control flag, true if EMS is controlling ShadingFlag with ShadingFlagEMSValue</div><div class="line">+           int const ShadingFractionEMSValue, // EMS control value for Shading Flag</div><div class="line">+           int const StormWinFlag, // -1: Storm window not applicable</div><div class="line">+           int const StormWinFlagPrevDay, // Previous time step value of StormWinFlag</div><div class="line">+           Real64 const FracTimeShadingDeviceOn, // For a single time step, = 0.0 if no shading device or shading device is off,</div><div class="line">+           int const ExtIntShadePrevTS, // 1 if exterior or interior blind or shade in place previous time step;</div><div class="line">+           int const ShadedConstruction, // For windows with shading, the construction with shading</div><div class="line">+           bool const SurfDayLightInit, // surface has been initialized for following 5 arrays</div><div class="line">+           Array1&lt; Real64 &gt; const &amp; SolidAngAtRefPt, // Solid angle subtended by window from daylit ref points 1 and 2</div><div class="line">+           Array1&lt; Real64 &gt; const &amp; SolidAngAtRefPtWtd, // Solid angle subtended by window from</div><div class="line">+           Array2&lt; Real64 &gt; const &amp; IllumFromWinAtRefPt, // Illuminance from window at ref pts for window</div><div class="line">+           Array2&lt; Real64 &gt; const &amp; BackLumFromWinAtRefPt, // Window background luminance from window wrt ref pts (cd/m2)</div><div class="line">+           Array2&lt; Real64 &gt; const &amp; SourceLumFromWinAtRefPt, // Window luminance at ref pts for window</div><div class="line">+           int const DaylFacPoint, // Pointer to daylight factors for the window</div><div class="line">+           Real64 const VisTransSelected, // Window vis trans at normal incidence selected for use in dayltg calculation</div><div class="line">+           Real64 const SwitchingFactor, // Window switching factor (0.0 = unswitched; 1.0 = fully switched)</div><div class="line">+           Array1&lt; Real64 &gt; const &amp; WinCenter, // X,Y,Z coordinates of window center point in building coord system</div><div class="line">+           Real64 const Theta, // Azimuth of window normal (rad)</div><div class="line">+           Real64 const Phi, // Altitude of window normal (rad)</div><div class="line">+           Real64 const RhoCeilingWall, // Average interior reflectance seen by light moving up across horizontal</div><div class="line">+           Real64 const RhoFloorWall, // Same as above, but for light moving down</div><div class="line">+           Real64 const FractionUpgoing, // Fraction light entering window that goes upward</div><div class="line">+           Real64 const VisTransRatio, // For windows with switchable glazing, ratio of normal transmittance</div><div class="line">+           Array1&lt; Real64 &gt; const &amp; ThetaFace, // Face temperatures of window layers (K)</div><div class="line">+           Real64 const IRfromParentZone, // Incident IR from parent zone (W/m2)</div><div class="line">+           int const IRErrCount, // For recurring error counts</div><div class="line">+           int const IRErrCountC, // For recurring error counts (continuation)</div><div class="line">+           Real64 const FrameArea, // Frame projected area (m2)</div><div class="line">+           Real64 const FrameConductance, // Frame conductance [no air films] (W/m2-K)</div><div class="line">+           Real64 const FrameSolAbsorp, // Frame solar absorptance (assumed same inside and outside)</div><div class="line">+           Real64 const FrameVisAbsorp, // Frame visible absorptance (assumed same inside and outside)</div><div class="line">+           Real64 const FrameEmis, // Frame thermal emissivity (thermal absorptance) (assumed same</div><div class="line">+           Real64 const FrameAreaXEmiss, // Frame area times thermal emissivity (m2)</div><div class="line">+           Real64 const FrameRadExchangeFactor, // Frame IR radiant exchange factor</div><div class="line">+           Real64 const FrameHRadLinIn, // Frame linearized inside IR radiation conductance (W/m2-K)</div><div class="line">+           Real64 const FrameRadThermalFluxRec, // Frame inside IR flux received (W/m2)</div><div class="line">+           Real64 const FrameRadThermalFluxRecOld, // Previous value of frame inside IR flux received (W/m2)</div><div class="line">+           Real64 const FrEdgeToCenterGlCondRatio, // Ratio of frame edge of glass conductance (without air films) to</div><div class="line">+           Real64 const FrameEdgeArea, // Area of glass near frame (m2)</div><div class="line">+           Real64 const FrameTempSurfIn, // Frame inside surface temperature (C)</div><div class="line">+           Real64 const FrameTempSurfInOld, // Previous value of frame inside surface temperature (C)</div><div class="line">+           Real64 const FrameTempSurfOut, // Frame outside surface temperature (C)</div><div class="line">+           Real64 const FrameQRadInAbs, // Radiation absorbed by inside of frame (short-wave from solar</div><div class="line">+           Real64 const FrameQRadOutAbs, // Radiation absorbed by outside of frame (solar) (W/m2)</div><div class="line">+           Real64 const ProjCorrFrOut, // Correction factor to absorbed radiation due to frame outside projection</div><div class="line">+           Real64 const ProjCorrFrIn, // Correction factor to absorbed radiation due to frame inside projection</div><div class="line">+           int const DividerType, // Divider type (1=DividedLite, 2=Suspended (between-pane))</div><div class="line">+           Real64 const DividerArea, // Divider projected area (m2)</div><div class="line">+           Real64 const DividerConductance, // Divider conductance [no air films] (W/m2-K)</div><div class="line">+           Real64 const DividerSolAbsorp, // Divider solar absorptance (assumed same inside and outside)</div><div class="line">+           Real64 const DividerVisAbsorp, // Divider visible absorptance (assumed same inside and outside)</div><div class="line">+           Real64 const DividerEmis, // Divider thermal emissivity (thermal absorptance) (assumed same</div><div class="line">+           Real64 const DividerAreaXEmiss, // Divider area times thermal emissivity (m2)</div><div class="line">+           Real64 const DividerRadExchangeFactor, // Divider IR radiant exchange factor</div><div class="line">+           Real64 const DividerHRadLinIn, // Divider linearized inside IR radiation conductance (W/m2-K)</div><div class="line">+           Real64 const DividerRadThermalFluxRec, // Divider inside IR flux received (W/m2)</div><div class="line">+           Real64 const DividerRadThermalFluxRecOld, // Previous value of divider inside IR flux received (W/m2)</div><div class="line">+           Real64 const DivEdgeToCenterGlCondRatio, // Ratio of divider edge of glass conductance (without air films) to</div><div class="line">+           Real64 const DividerEdgeArea, // Area of glass near dividers (m2)</div><div class="line">+           Real64 const DividerTempSurfIn, // Divider inside surface temperature (C)</div><div class="line">+           Real64 const DividerTempSurfInOld, // Previous value of divider inside surface temperature (C)</div><div class="line">+           Real64 const DividerTempSurfOut, // Divider outside surface temperature (C)</div><div class="line">+           Real64 const DividerQRadInAbs, // Radiation absorbed by inside of divider (short-wave from solar</div><div class="line">+           Real64 const DividerQRadOutAbs, // Radiation absorbed by outside of divider (solar) (W/m2)</div><div class="line">+           Real64 const ProjCorrDivOut, // Correction factor to absorbed radiation due to divider outside projection</div><div class="line">+           Real64 const ProjCorrDivIn, // Correction factor to absorbed radiation due to divider inside projection</div><div class="line">+           Real64 const GlazedFrac, // (Glazed area)/(Glazed area + divider area)</div><div class="line">+           Array1&lt; Real64 &gt; const &amp; OutProjSLFracMult, // Multiplier on sunlit fraction due to shadowing of glass by frame</div><div class="line">+           Array1&lt; Real64 &gt; const &amp; InOutProjSLFracMult, // Multiplier on sunlit fraction due to shadowing of glass by frame</div><div class="line">+           Real64 const CenterGlArea, // Center of glass area (m2); area of glass where 1-D conduction dominates</div><div class="line">+           Real64 const EdgeGlCorrFac, // Correction factor to center-of-glass conductance to account for</div><div class="line">+           int const OriginalClass, // 0 or if entered originally as:</div><div class="line">+           Real64 const ExtBeamAbsByShade, // Exterior beam solar absorbed by window shade (W/m2)</div><div class="line">+           Real64 const ExtDiffAbsByShade, // Exterior diffuse solar absorbed by window shade (W/m2)</div><div class="line">+           Real64 const IntBeamAbsByShade, // Interior beam solar absorbed by window shade (W/m2)</div><div class="line">+           Real64 const IntSWAbsByShade, // Interior diffuse solar plus short-wave from lights absorbed by window shade (W/m2)</div><div class="line">+           Real64 const InitialDifSolAbsByShade, // Initial diffuse solar from ext and int windows absorbed by window shade (W/m2)</div><div class="line">+           Real64 const IntLWAbsByShade, // Interior long-wave from zone lights and equipment absorbed by window shade (W/m2)</div><div class="line">+           Array1&lt; Real64 &gt; const &amp; ShadeAbsFacFace, // Fraction of short-wave radiation incident on face 1 that is</div><div class="line">+           Real64 const ConvCoeffWithShade, // Convection coefficient from glass or shade to gap air when</div><div class="line">+           Real64 const ConvHeatFlowNatural, // Convective heat flow from gap between glass and interior shade or blind (W)</div><div class="line">+           Real64 const ConvHeatGainToZoneAir, // Convective heat gain to zone air from window gap airflow (W)</div><div class="line">+           Real64 const RetHeatGainToZoneAir, // Convective heat gain to return air sent to zone [W]</div><div class="line">+           Real64 const DividerConduction, // Conduction through divider from outside to inside face (W)</div><div class="line">+           Real64 const OtherConvHeatGain, // other convective = total conv - standard model prediction for EQL window model (W)</div><div class="line">+           int const BlindNumber, // Blind number for a window with a blind</div><div class="line">+           Array1&lt; Real64 &gt; const &amp; EffShBlindEmiss, // Effective emissivity of interior blind or shade</div><div class="line">+           Array1&lt; Real64 &gt; const &amp; EffGlassEmiss, // Effective emissivity of glass adjacent to interior blind or shade</div><div class="line">+           Real64 const EffInsSurfTemp, // Effective inside surface temperature for window with interior blind or</div><div class="line">+           bool const MovableSlats, // True if window has a blind with movable slats</div><div class="line">+           Real64 const SlatAngThisTS, // Slat angle this time step for window with blind on (radians)</div><div class="line">+           Real64 const SlatAngThisTSDeg, // Slat angle this time step for window with blind on (deg)</div><div class="line">+           bool const SlatAngThisTSDegEMSon, // flag that indicate EMS system is actuating SlatAngThisTSDeg</div><div class="line">+           Real64 const SlatAngThisTSDegEMSValue, // value that EMS sets for slat angle in degrees</div><div class="line">+           bool const SlatsBlockBeam, // True if blind slats block incident beam solar</div><div class="line">+           Real64 const BlindAirFlowPermeability, // Blind air-flow permeability for calculation of convective flow</div><div class="line">+           Real64 const TotGlazingThickness, // Total glazing thickness from outside of outer glass to inside of inner glass (m)</div><div class="line">+           Real64 const ProfileAngHor, // Horizontal beam solar profile angle (degrees)</div><div class="line">+           Real64 const ProfileAngVert, // Vertical beam solar profile angle (degrees)</div><div class="line">+           Real64 const TanProfileAngHor, // Tangent of horizontal profile angle</div><div class="line">+           Real64 const TanProfileAngVert, // Tangent of vertical profile angle</div><div class="line">+           Real64 const InsideSillDepth, // Depth of inside sill (m)</div><div class="line">+           Real64 const InsideReveal, // Depth of inside reveal (m)</div><div class="line">+           Real64 const InsideSillSolAbs, // Solar absorptance of inside sill</div><div class="line">+           Real64 const InsideRevealSolAbs, // Solar absorptance of inside reveal</div><div class="line">+           Real64 const OutsideRevealSolAbs, // Solar absorptance of outside reveal</div><div class="line">+           Real64 const BmSolAbsdInsReveal, // Multiplied by BeamSolarRad, gives beam solar absorbed</div><div class="line">+           Real64 const BmSolRefldInsReveal, // Multiplied by BeamSolarRad, gives beam solar reflected</div><div class="line">+           Real64 const BmSolRefldInsRevealReport, // Beam solar reflected by inside reveal surfaces, for reporting (W)</div><div class="line">+           Real64 const BmSolRefldOutsRevealReport, // Beam solar reflected by outside reveal surfaces, for reporting (m2)</div><div class="line">+           Real64 const BmSolAbsdOutsReveal, // Multiplied by BeamSolarRad, gives beam solar absorbed by</div><div class="line">+           Real64 const OutsRevealDiffOntoGlazing, // Multiplied by BeamSolarRad, gives diffuse from beam reflection from</div><div class="line">+           Real64 const InsRevealDiffOntoGlazing, // Multiplied by BeamSolarRad, gives diffuse from beam reflection</div><div class="line">+           Real64 const InsRevealDiffIntoZone, // Multiplied by BeamSolarRad, gives diffuse from beam reflection</div><div class="line">+           Real64 const OutsRevealDiffOntoFrame, // Multiplied by BeamSolarRad, gives diffuse from beam reflection from outside reveal</div><div class="line">+           Real64 const InsRevealDiffOntoFrame, // Multiplied by BeamSolarRad, gives diffuse from beam reflection from inside reveal</div><div class="line">+           Real64 const InsRevealDiffOntoGlazingReport, // Diffuse solar from beam reflection</div><div class="line">+           Real64 const InsRevealDiffIntoZoneReport, // Diffuse from beam reflection</div><div class="line">+           Real64 const InsRevealDiffOntoFrameReport, // Diffuse from beam reflection from inside reveal</div><div class="line">+           Real64 const BmSolAbsdInsRevealReport, // Beam solar absorbed by inside reveal (W)</div><div class="line">+           Real64 const BlTsolBmBm, // Time-step value of blind beam-beam solar transmittance (-)</div><div class="line">+           Real64 const BlTsolBmDif, // Time-step value of blind beam-diffuse solar transmittance (-)</div><div class="line">+           Real64 const BlTsolDifDif, // Time-step value of blind diffuse-diffuse solar transmittance (-)</div><div class="line">+           Real64 const BlGlSysTsolBmBm, // Time-step value of blind/glass system beam-beam solar transmittance (-)</div><div class="line">+           Real64 const BlGlSysTsolDifDif, // Time-step value of blind/glass system diffuse-diffuse solar transmittance (-)</div><div class="line">+           int const ScreenNumber, // Screen number for a window with a screen (do not confuse with material number)</div><div class="line">+           Real64 const ScTsolBmBm, // Time-step value of screen beam-beam solar transmittance (-)</div><div class="line">+           Real64 const ScTsolBmDif, // Time-step value of screen beam-diffuse solar transmittance (-)</div><div class="line">+           Real64 const ScTsolDifDif, // Time-step value of screen diffuse-diffuse solar transmittance (-)</div><div class="line">+           Real64 const ScGlSysTsolBmBm, // Time-step value of screen/glass system beam-beam solar transmittance (-)</div><div class="line">+           Real64 const ScGlSysTsolDifDif, // Time-step value of screen/glass system diffuse-diffuse solar transmittance (-)</div><div class="line">+           Real64 const GlTsolBmBm, // Time-step value of glass beam-beam solar transmittance (-)</div><div class="line">+           Real64 const GlTsolBmDif, // Time-step value of glass beam-diffuse solar transmittance (-)</div><div class="line">+           Real64 const GlTsolDifDif, // Time-step value of glass diffuse-diffuse solar transmittance (-)</div><div class="line">+           int const AirflowSource, // Source of gap airflow (INSIDEAIR, OUTSIDEAIR, etc.)</div><div class="line">+           int const AirflowDestination, // Destination of gap airflow (INSIDEAIR, OUTSIDEAIR, etc.)</div><div class="line">+           Real64 const MaxAirflow, // Maximum gap airflow (m3/s per m of glazing width)</div><div class="line">+           int const AirflowControlType, // Gap airflow control type (ALWAYSONATMAXFLOW, etc.)</div><div class="line">+           bool const AirflowHasSchedule, // True if gap airflow is scheduled</div><div class="line">+           int const AirflowSchedulePtr, // Gap airflow schedule pointer</div><div class="line">+           Real64 const AirflowThisTS, // Gap airflow this timestep (m3/s per m of glazing width)</div><div class="line">+           Real64 const TAirflowGapOutlet, // Temperature of air leaving airflow gap between glass panes (C)</div><div class="line">+           int const WindowCalcIterationsRep, // Number of iterations in window heat balance calculation</div><div class="line">+           Real64 const BmSolTransThruIntWinRep, // Beam solar transmitted through interior window [W]</div><div class="line">+           Real64 const VentingOpenFactorRep, // Window/door venting open factor, for reporting</div><div class="line">+           Real64 const VentingOpenFactorMultRep, // Window/door opening modulation multiplier on venting open factor, for reporting</div><div class="line">+           Real64 const InsideTempForVentingRep, // Inside air temp used to control window/door venting, for reporting (C)</div><div class="line">+           Real64 const VentingAvailabilityRep, // Venting availability schedule value (0.0/1.0 = no venting allowed/not allowed)</div><div class="line">+           Real64 const IllumFromWinAtRefPt1Rep, // Illuminance from window at reference point #1 [lux]</div><div class="line">+           Real64 const IllumFromWinAtRefPt2Rep, // Illuminance from window at reference point #2 [lux]</div><div class="line">+           Real64 const LumWinFromRefPt1Rep, // Window luminance as viewed from reference point #1 [cd/m2]</div><div class="line">+           Real64 const LumWinFromRefPt2Rep, // Window luminance as viewed from reference point #2 [cd/m2]</div><div class="line">+           Real64 const SkySolarInc, // Incident diffuse solar from sky; if CalcSolRefl is true, includes</div><div class="line">+           Real64 const GndSolarInc, // Incident diffuse solar from ground; if CalcSolRefl is true, accounts</div><div class="line">+           Real64 const SkyGndSolarInc, // Incident diffuse solar from ground-reflected sky radiation; used for</div><div class="line">+           Real64 const BmGndSolarInc, // Incident diffuse solar from ground-reflected beam radiation; used for</div><div class="line">+           Array1&lt; Real64 &gt; const &amp; ZoneAreaMinusThisSurf, // Zone inside surface area minus this surface and its subsurfaces</div><div class="line">+           Array1&lt; Real64 &gt; const &amp; ZoneAreaReflProdMinusThisSurf, // Zone product of inside surface area times vis reflectance</div><div class="line">+           Real64 const LightWellEff, // Light well efficiency (multiplier on exterior window vis trans</div><div class="line">+           bool const SolarDiffusing, // True if exterior window with a construction that contains a</div><div class="line">+           Real64 const BmSolRefldInsRevealRepEnergy, // energy of BmSolRefldInsRevealReport [J]</div><div class="line">+           Real64 const BmSolRefldOutsRevealRepEnergy, // energy of BmSolRefldOutsRevealReport [J]</div><div class="line">+           Real64 const BmSolTransThruIntWinRepEnergy, // energy of BmSolTransThruIntWinRep [J]</div><div class="line">+           Real64 const FrameHeatGain,</div><div class="line">+           Real64 const DividerHeatGain,</div><div class="line">+           Real64 const FrameHeatLoss,</div><div class="line">+           Real64 const DividerHeatLoss,</div><div class="line">+           Real64 const TCLayerTemp, // The temperature of the thermochromic layer of the window</div><div class="line">+           Real64 const SpecTemp, // The specification temperature of the TC layer glass</div><div class="line">+           int const WindowModelType, // if set to WindowBSDFModel, then uses BSDF methods</div><div class="line">+           BSDFWindowDescript const &amp; ComplexFen // Data for complex fenestration, see DataBSDFWindow.cc for declaration</div><div class="line">+       ) :</div><div class="line">+           ShadingFlag( ShadingFlag ),</div><div class="line">+           ShadingFlagEMSOn( ShadingFlagEMSOn ),</div><div class="line">+           ShadingFlagEMSValue( ShadingFlagEMSValue ),</div><div class="line">+           ShadingFractionEMSOn( ShadingFractionEMSOn ),</div><div class="line">+           ShadingFractionEMSValue( ShadingFractionEMSValue ),</div><div class="line">+           StormWinFlag( StormWinFlag ),</div><div class="line">+           StormWinFlagPrevDay( StormWinFlagPrevDay ),</div><div class="line">+           FracTimeShadingDeviceOn( FracTimeShadingDeviceOn ),</div><div class="line">+           ExtIntShadePrevTS( ExtIntShadePrevTS ),</div><div class="line">+           ShadedConstruction( ShadedConstruction ),</div><div class="line">+           SurfDayLightInit( SurfDayLightInit ),</div><div class="line">+           SolidAngAtRefPt( SolidAngAtRefPt ),</div><div class="line">+           SolidAngAtRefPtWtd( SolidAngAtRefPtWtd ),</div><div class="line">+           IllumFromWinAtRefPt( IllumFromWinAtRefPt ),</div><div class="line">+           BackLumFromWinAtRefPt( BackLumFromWinAtRefPt ),</div><div class="line">+           SourceLumFromWinAtRefPt( SourceLumFromWinAtRefPt ),</div><div class="line">+           DaylFacPoint( DaylFacPoint ),</div><div class="line">+           VisTransSelected( VisTransSelected ),</div><div class="line">+           SwitchingFactor( SwitchingFactor ),</div><div class="line">+           WinCenter( 3, WinCenter ),</div><div class="line">+           Theta( Theta ),</div><div class="line">+           Phi( Phi ),</div><div class="line">+           RhoCeilingWall( RhoCeilingWall ),</div><div class="line">+           RhoFloorWall( RhoFloorWall ),</div><div class="line">+           FractionUpgoing( FractionUpgoing ),</div><div class="line">+           VisTransRatio( VisTransRatio ),</div><div class="line">+           ThetaFace( 10, ThetaFace ),</div><div class="line">+           IRfromParentZone( IRfromParentZone ),</div><div class="line">+           IRErrCount( IRErrCount ),</div><div class="line">+           IRErrCountC( IRErrCountC ),</div><div class="line">+           FrameArea( FrameArea ),</div><div class="line">+           FrameConductance( FrameConductance ),</div><div class="line">+           FrameSolAbsorp( FrameSolAbsorp ),</div><div class="line">+           FrameVisAbsorp( FrameVisAbsorp ),</div><div class="line">+           FrameEmis( FrameEmis ),</div><div class="line">+           FrameAreaXEmiss( FrameAreaXEmiss ),</div><div class="line">+           FrameRadExchangeFactor( FrameRadExchangeFactor ),</div><div class="line">+           FrameHRadLinIn( FrameHRadLinIn ),</div><div class="line">+           FrameRadThermalFluxRec( FrameRadThermalFluxRec ),</div><div class="line">+           FrameRadThermalFluxRecOld( FrameRadThermalFluxRecOld ),</div><div class="line">+           FrEdgeToCenterGlCondRatio( FrEdgeToCenterGlCondRatio ),</div><div class="line">+           FrameEdgeArea( FrameEdgeArea ),</div><div class="line">+           FrameTempSurfIn( FrameTempSurfIn ),</div><div class="line">+           FrameTempSurfInOld( FrameTempSurfInOld ),</div><div class="line">+           FrameTempSurfOut( FrameTempSurfOut ),</div><div class="line">+           FrameQRadInAbs( FrameQRadInAbs ),</div><div class="line">+           FrameQRadOutAbs( FrameQRadOutAbs ),</div><div class="line">+           ProjCorrFrOut( ProjCorrFrOut ),</div><div class="line">+           ProjCorrFrIn( ProjCorrFrIn ),</div><div class="line">+           DividerType( DividerType ),</div><div class="line">+           DividerArea( DividerArea ),</div><div class="line">+           DividerConductance( DividerConductance ),</div><div class="line">+           DividerSolAbsorp( DividerSolAbsorp ),</div><div class="line">+           DividerVisAbsorp( DividerVisAbsorp ),</div><div class="line">+           DividerEmis( DividerEmis ),</div><div class="line">+           DividerAreaXEmiss( DividerAreaXEmiss ),</div><div class="line">+           DividerRadExchangeFactor( DividerRadExchangeFactor ),</div><div class="line">+           DividerHRadLinIn( DividerHRadLinIn ),</div><div class="line">+           DividerRadThermalFluxRec( DividerRadThermalFluxRec ),</div><div class="line">+           DividerRadThermalFluxRecOld( DividerRadThermalFluxRecOld ),</div><div class="line">+           DivEdgeToCenterGlCondRatio( DivEdgeToCenterGlCondRatio ),</div><div class="line">+           DividerEdgeArea( DividerEdgeArea ),</div><div class="line">+           DividerTempSurfIn( DividerTempSurfIn ),</div><div class="line">+           DividerTempSurfInOld( DividerTempSurfInOld ),</div><div class="line">+           DividerTempSurfOut( DividerTempSurfOut ),</div><div class="line">+           DividerQRadInAbs( DividerQRadInAbs ),</div><div class="line">+           DividerQRadOutAbs( DividerQRadOutAbs ),</div><div class="line">+           ProjCorrDivOut( ProjCorrDivOut ),</div><div class="line">+           ProjCorrDivIn( ProjCorrDivIn ),</div><div class="line">+           GlazedFrac( GlazedFrac ),</div><div class="line">+           OutProjSLFracMult( 24, OutProjSLFracMult ),</div><div class="line">+           InOutProjSLFracMult( 24, InOutProjSLFracMult ),</div><div class="line">+           CenterGlArea( CenterGlArea ),</div><div class="line">+           EdgeGlCorrFac( EdgeGlCorrFac ),</div><div class="line">+           OriginalClass( OriginalClass ),</div><div class="line">+           ExtBeamAbsByShade( ExtBeamAbsByShade ),</div><div class="line">+           ExtDiffAbsByShade( ExtDiffAbsByShade ),</div><div class="line">+           IntBeamAbsByShade( IntBeamAbsByShade ),</div><div class="line">+           IntSWAbsByShade( IntSWAbsByShade ),</div><div class="line">+           InitialDifSolAbsByShade( InitialDifSolAbsByShade ),</div><div class="line">+           IntLWAbsByShade( IntLWAbsByShade ),</div><div class="line">+           ShadeAbsFacFace( 2, ShadeAbsFacFace ),</div><div class="line">+           ConvCoeffWithShade( ConvCoeffWithShade ),</div><div class="line">+           ConvHeatFlowNatural( ConvHeatFlowNatural ),</div><div class="line">+           ConvHeatGainToZoneAir( ConvHeatGainToZoneAir ),</div><div class="line">+           RetHeatGainToZoneAir( RetHeatGainToZoneAir ),</div><div class="line">+           DividerConduction( DividerConduction ),</div><div class="line">+           OtherConvHeatGain( OtherConvHeatGain ),</div><div class="line">+           BlindNumber( BlindNumber ),</div><div class="line">+           EffShBlindEmiss( MaxSlatAngs, EffShBlindEmiss ),</div><div class="line">+           EffGlassEmiss( MaxSlatAngs, EffGlassEmiss ),</div><div class="line">+           EffInsSurfTemp( EffInsSurfTemp ),</div><div class="line">+           MovableSlats( MovableSlats ),</div><div class="line">+           SlatAngThisTS( SlatAngThisTS ),</div><div class="line">+           SlatAngThisTSDeg( SlatAngThisTSDeg ),</div><div class="line">+           SlatAngThisTSDegEMSon( SlatAngThisTSDegEMSon ),</div><div class="line">+           SlatAngThisTSDegEMSValue( SlatAngThisTSDegEMSValue ),</div><div class="line">+           SlatsBlockBeam( SlatsBlockBeam ),</div><div class="line">+           BlindAirFlowPermeability( BlindAirFlowPermeability ),</div><div class="line">+           TotGlazingThickness( TotGlazingThickness ),</div><div class="line">+           ProfileAngHor( ProfileAngHor ),</div><div class="line">+           ProfileAngVert( ProfileAngVert ),</div><div class="line">+           TanProfileAngHor( TanProfileAngHor ),</div><div class="line">+           TanProfileAngVert( TanProfileAngVert ),</div><div class="line">+           InsideSillDepth( InsideSillDepth ),</div><div class="line">+           InsideReveal( InsideReveal ),</div><div class="line">+           InsideSillSolAbs( InsideSillSolAbs ),</div><div class="line">+           InsideRevealSolAbs( InsideRevealSolAbs ),</div><div class="line">+           OutsideRevealSolAbs( OutsideRevealSolAbs ),</div><div class="line">+           BmSolAbsdInsReveal( BmSolAbsdInsReveal ),</div><div class="line">+           BmSolRefldInsReveal( BmSolRefldInsReveal ),</div><div class="line">+           BmSolRefldInsRevealReport( BmSolRefldInsRevealReport ),</div><div class="line">+           BmSolRefldOutsRevealReport( BmSolRefldOutsRevealReport ),</div><div class="line">+           BmSolAbsdOutsReveal( BmSolAbsdOutsReveal ),</div><div class="line">+           OutsRevealDiffOntoGlazing( OutsRevealDiffOntoGlazing ),</div><div class="line">+           InsRevealDiffOntoGlazing( InsRevealDiffOntoGlazing ),</div><div class="line">+           InsRevealDiffIntoZone( InsRevealDiffIntoZone ),</div><div class="line">+           OutsRevealDiffOntoFrame( OutsRevealDiffOntoFrame ),</div><div class="line">+           InsRevealDiffOntoFrame( InsRevealDiffOntoFrame ),</div><div class="line">+           InsRevealDiffOntoGlazingReport( InsRevealDiffOntoGlazingReport ),</div><div class="line">+           InsRevealDiffIntoZoneReport( InsRevealDiffIntoZoneReport ),</div><div class="line">+           InsRevealDiffOntoFrameReport( InsRevealDiffOntoFrameReport ),</div><div class="line">+           BmSolAbsdInsRevealReport( BmSolAbsdInsRevealReport ),</div><div class="line">+           BlTsolBmBm( BlTsolBmBm ),</div><div class="line">+           BlTsolBmDif( BlTsolBmDif ),</div><div class="line">+           BlTsolDifDif( BlTsolDifDif ),</div><div class="line">+           BlGlSysTsolBmBm( BlGlSysTsolBmBm ),</div><div class="line">+           BlGlSysTsolDifDif( BlGlSysTsolDifDif ),</div><div class="line">+           ScreenNumber( ScreenNumber ),</div><div class="line">+           ScTsolBmBm( ScTsolBmBm ),</div><div class="line">+           ScTsolBmDif( ScTsolBmDif ),</div><div class="line">+           ScTsolDifDif( ScTsolDifDif ),</div><div class="line">+           ScGlSysTsolBmBm( ScGlSysTsolBmBm ),</div><div class="line">+           ScGlSysTsolDifDif( ScGlSysTsolDifDif ),</div><div class="line">+           GlTsolBmBm( GlTsolBmBm ),</div><div class="line">+           GlTsolBmDif( GlTsolBmDif ),</div><div class="line">+           GlTsolDifDif( GlTsolDifDif ),</div><div class="line">+           AirflowSource( AirflowSource ),</div><div class="line">+           AirflowDestination( AirflowDestination ),</div><div class="line">+           MaxAirflow( MaxAirflow ),</div><div class="line">+           AirflowControlType( AirflowControlType ),</div><div class="line">+           AirflowHasSchedule( AirflowHasSchedule ),</div><div class="line">+           AirflowSchedulePtr( AirflowSchedulePtr ),</div><div class="line">+           AirflowThisTS( AirflowThisTS ),</div><div class="line">+           TAirflowGapOutlet( TAirflowGapOutlet ),</div><div class="line">+           WindowCalcIterationsRep( WindowCalcIterationsRep ),</div><div class="line">+           BmSolTransThruIntWinRep( BmSolTransThruIntWinRep ),</div><div class="line">+           VentingOpenFactorRep( VentingOpenFactorRep ),</div><div class="line">+           VentingOpenFactorMultRep( VentingOpenFactorMultRep ),</div><div class="line">+           InsideTempForVentingRep( InsideTempForVentingRep ),</div><div class="line">+           VentingAvailabilityRep( VentingAvailabilityRep ),</div><div class="line">+           IllumFromWinAtRefPt1Rep( IllumFromWinAtRefPt1Rep ),</div><div class="line">+           IllumFromWinAtRefPt2Rep( IllumFromWinAtRefPt2Rep ),</div><div class="line">+           LumWinFromRefPt1Rep( LumWinFromRefPt1Rep ),</div><div class="line">+           LumWinFromRefPt2Rep( LumWinFromRefPt2Rep ),</div><div class="line">+           SkySolarInc( SkySolarInc ),</div><div class="line">+           GndSolarInc( GndSolarInc ),</div><div class="line">+           SkyGndSolarInc( SkyGndSolarInc ),</div><div class="line">+           BmGndSolarInc( BmGndSolarInc ),</div><div class="line">+           ZoneAreaMinusThisSurf( 3, ZoneAreaMinusThisSurf ),</div><div class="line">+           ZoneAreaReflProdMinusThisSurf( 3, ZoneAreaReflProdMinusThisSurf ),</div><div class="line">+           LightWellEff( LightWellEff ),</div><div class="line">+           SolarDiffusing( SolarDiffusing ),</div><div class="line">+           BmSolRefldInsRevealRepEnergy( BmSolRefldInsRevealRepEnergy ),</div><div class="line">+           BmSolRefldOutsRevealRepEnergy( BmSolRefldOutsRevealRepEnergy ),</div><div class="line">+           BmSolTransThruIntWinRepEnergy( BmSolTransThruIntWinRepEnergy ),</div><div class="line">+           FrameHeatGain( FrameHeatGain ),</div><div class="line">+           DividerHeatGain( DividerHeatGain ),</div><div class="line">+           FrameHeatLoss( FrameHeatLoss ),</div><div class="line">+           DividerHeatLoss( DividerHeatLoss ),</div><div class="line">+           TCLayerTemp( TCLayerTemp ),</div><div class="line">+           SpecTemp( SpecTemp ),</div><div class="line">+           WindowModelType( WindowModelType ),</div><div class="line">+           ComplexFen( ComplexFen )</div><div class="line">+       {}</div><div class="line">+       /* No-MASS new lines end */</div><div class="line"></div><div class="line">        void</div><div class="line">        InitSolarHeatGains()</div></div><!-- fragment --></div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"> <a href='#Introduction'>[Back to top]</a> </div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><div id="DaylightingManager_cc"> </div></div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><div id="DaylightingManager_cc"><h3>DaylightingManager.cc</h3>
</div></div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><div id="DaylightingManager_cc"></div></div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><div id="DaylightingManager_cc"><div class="fragment"><div class="line">--- ../EnergyPlus-8.6.0/src/EnergyPlus/DaylightingManager.cc</div><div class="line">+++ ../EnergyPlus-8.6.0/src/EnergyPlus/DaylightingManager.cc</div><div class="line">@@ -62,6 +62,7 @@</div><div class="line"> #include &lt;cmath&gt;</div><div class="line"> #include &lt;string&gt;</div><div class="line"></div><div class="line">+#include &lt;fstream&gt; // added by jake /* No-MASS new line --- */</div><div class="line"> // ObjexxFCL Headers</div><div class="line"> #include &lt;ObjexxFCL/Array.functions.hh&gt;</div><div class="line"> #include &lt;ObjexxFCL/Fmath.hh&gt;</div><div class="line">@@ -5931,6 +5932,11 @@</div><div class="line">                    VTRatio = VTNow / VTMaster;</div><div class="line">                }</div><div class="line">            }</div><div class="line">+</div><div class="line">+           // jake /* No-MASS new lines begin */</div><div class="line">+           if (SurfaceWindow(IWin).ShadingFractionEMSOn){</div><div class="line">+               VTRatio = VTRatio * SurfaceWindow(IWin).ShadingFractionEMSValue;</div><div class="line">+           }/* No-MASS new lines end */</div><div class="line"></div><div class="line">            // Loop over reference points</div><div class="line">            for ( IL = 1; IL &lt;= NREFPT; ++IL ) {</div></div><!-- fragment --></div></div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><div id="DaylightingManager_cc"> <a href='#Introduction'>[Back to top]</a> </div></div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><div id="DaylightingManager_cc"><div id="EMSManager_cc"> </div></div></div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><div id="DaylightingManager_cc"><div id="EMSManager_cc"><h3>EMSManager.cc</h3>
</div></div></div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><div id="DaylightingManager_cc"><div id="EMSManager_cc"></div></div></div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><div id="DaylightingManager_cc"><div id="EMSManager_cc"><div class="fragment"><div class="line">--- ../EnergyPlus-8.6.0/src/EnergyPlus/EMSManager.cc</div><div class="line">+++ ../EnergyPlus-8.6.0/src/EnergyPlus/EMSManager.cc</div><div class="line">@@ -1859,7 +1859,9 @@</div><div class="line">            if ( Surface( loopSurfNum ).WindowShadingControlPtr == 0 ) continue;</div><div class="line"></div><div class="line">            SetupEMSActuator( &quot;Window Shading Control&quot;, Surface( loopSurfNum ).Name, &quot;Control Status&quot;, &quot;[ShadeStatus]&quot;, SurfaceWindow( loopSurfNum ).ShadingFlagEMSOn, SurfaceWindow( loopSurfNum ).ShadingFlagEMSValue );</div><div class="line">-</div><div class="line">+           </div><div class="line">+           SetupEMSActuator( &quot;Window Shading Fraction&quot;, Surface( loopSurfNum ).Name, &quot;Control Fraction&quot;, &quot;[ShadeFraction]&quot;, SurfaceWindow( loopSurfNum ).ShadingFractionEMSOn, SurfaceWindow( loopSurfNum ).ShadingFractionEMSValue ); /* No-MASS new line --- */</div><div class="line">+           </div><div class="line">            if ( SurfaceWindow( loopSurfNum ).MovableSlats ) {</div><div class="line">                SetupEMSActuator( &quot;Window Shading Control&quot;, Surface( loopSurfNum ).Name, &quot;Slat Angle&quot;, &quot;[degrees]&quot;, SurfaceWindow( loopSurfNum ).SlatAngThisTSDegEMSon, SurfaceWindow( loopSurfNum ).SlatAngThisTSDegEMSValue );</div></div><!-- fragment --></div></div></div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><div id="DaylightingManager_cc"><div id="EMSManager_cc"> <a href='#Introduction'>[Back to top]</a> </div></div></div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><div id="DaylightingManager_cc"><div id="EMSManager_cc"><div id="SolarShading_cc"> </div></div></div></div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><div id="DaylightingManager_cc"><div id="EMSManager_cc"><div id="SolarShading_cc"><h3>SolarShading.cc</h3>
</div></div></div></div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><div id="DaylightingManager_cc"><div id="EMSManager_cc"><div id="SolarShading_cc"></div></div></div></div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><div id="DaylightingManager_cc"><div id="EMSManager_cc"><div id="SolarShading_cc"><div class="fragment"><div class="line">--- ../EnergyPlus-8.6.0/src/EnergyPlus/SolarShading.cc</div><div class="line">+++ ../EnergyPlus-8.6.0/src/EnergyPlus/SolarShading.cc</div><div class="line">@@ -954,6 +954,19 @@</div><div class="line">        }</div><div class="line"></div><div class="line">        DisplayString( &quot;Initializing Surface (Shading) Report Variables&quot; );</div><div class="line">+</div><div class="line">+       //jake /* No-MASS new lines begin */</div><div class="line">+       for ( SurfLoop = 1; SurfLoop &lt;= TotSurfaces; ++SurfLoop ) {</div><div class="line">+           if ( Surface( SurfLoop ).Class == SurfaceClass_Window &amp;&amp; Surface( SurfLoop ).WindowShadingControlPtr &gt; 0 ) {</div><div class="line">+               int WinShadeCtrlNum = Surface( SurfLoop ).WindowShadingControlPtr;</div><div class="line">+               if ( WindowShadingControl( WinShadeCtrlNum ).ShadingType == WSC_ST_InteriorShade || WindowShadingControl( WinShadeCtrlNum ).ShadingType == WSC_ST_ExteriorShade || WindowShadingControl( WinShadeCtrlNum ).ShadingType == WSC_ST_BetweenGlassShade ) {</div><div class="line">+                       // CurrentModuleObject=&#39;Surfaces&#39;</div><div class="line">+                       SetupOutputVariable( &quot;Window Shading Fraction [Fraction]&quot;, SurfaceWindow( SurfLoop ).ShadingFractionEMSValue, &quot;Zone&quot;, &quot;Average&quot;, Surface( SurfLoop ).Name );</div><div class="line">+               }</div><div class="line">+           }</div><div class="line">+       }</div><div class="line">+       //jake /* No-MASS new lines end */</div><div class="line">+</div><div class="line">        // CurrentModuleObject=&#39;Surfaces&#39;</div><div class="line">        for ( SurfLoop = 1; SurfLoop &lt;= TotSurfaces; ++SurfLoop ) {</div><div class="line">            if ( Surface( SurfLoop ).ExtSolar ) {</div><div class="line">@@ -5295,6 +5308,15 @@</div><div class="line">                CosInc = CosIncAng( TimeStep, HourOfDay, SurfNum2 );</div><div class="line">                SunLitFract = SunlitFrac( TimeStep, HourOfDay, SurfNum2 );</div><div class="line"></div><div class="line">+               //! jake - set trans to shading fraction /* No-MASS new lines begin */</div><div class="line">+               //! EMS Actuator Point: override setting if ems flag on</div><div class="line">+               if (SurfaceWindow(SurfNum).ShadingFractionEMSOn){</div><div class="line">+                       SunLitFract = SunLitFract - ( 1 - SurfaceWindow(SurfNum).ShadingFractionEMSValue);</div><div class="line">+                       if(SunLitFract &lt; 0.0){</div><div class="line">+                           SunLitFract = 0.0;</div><div class="line">+                       }</div><div class="line">+               } /* No-MASS new lines end */</div><div class="line">+</div><div class="line">                //-------------------------------------------------------------------------</div><div class="line">                // EXTERIOR BEAM SOLAR RADIATION ABSORBED ON THE OUTSIDE OF OPAQUE SURFACES</div><div class="line">                //-------------------------------------------------------------------------</div><div class="line">@@ -9652,6 +9674,78 @@</div><div class="line"></div><div class="line">    }</div><div class="line"></div><div class="line">+   /* No-MASS new lines begin */</div><div class="line">+   void</div><div class="line">+   ComputeWinShadeAbsorpFactorsFor(int SurfNum)</div><div class="line">+   {</div><div class="line">+</div><div class="line">+       // SUBROUTINE INFORMATION:</div><div class="line">+       //       AUTHOR         Fred Winkelmann</div><div class="line">+       //       DATE WRITTEN   Mar 2001</div><div class="line">+       //       MODIFIED       Oct 2002,FCW: change ConstrNumSh = WindowShadingControl(WinShadeCtrlNum)%ShadedConstruction</div><div class="line">+       //                      to Surface(SurfNum)%ShadedConstruction</div><div class="line">+       //       RE-ENGINEERED  na</div><div class="line">+</div><div class="line">+       // PURPOSE OF THIS SUBROUTINE:</div><div class="line">+       // Called by InitSolarCalculations. Finds fractions that apportion radiation absorbed by a</div><div class="line">+       // window shade to the two faces of the shade. For radiation incident from the left,</div><div class="line">+       // ShadeAbsFacFace(1) is the fraction of radiation absorbed in the left-hand half of the</div><div class="line">+       // of the shade and ShadeAbsFacFace(2) is the fraction absorbed in the right-hand half.</div><div class="line">+       // The shade is assumed to be homogeneous.</div><div class="line">+</div><div class="line">+       // REFERENCES: See EnergyPlus engineering documentation</div><div class="line">+       // USE STATEMENTS: na</div><div class="line">+</div><div class="line">+       // Locals</div><div class="line">+       // SUBROUTINE PARAMETER DEFINITIONS: na</div><div class="line">+       // INTERFACE BLOCK SPECIFICATIONS: na</div><div class="line">+       // DERIVED TYPE DEFINITIONS: na</div><div class="line">+</div><div class="line">+       // SUBROUTINE LOCAL VARIABLE DECLARATIONS:</div><div class="line">+</div><div class="line">+       int WinShadeCtrlNum; // Window shading control number</div><div class="line">+</div><div class="line">+       int ConstrNumSh; // Window construction number with shade</div><div class="line">+       int TotLay; // Total layers in a construction</div><div class="line">+       int MatNumSh; // Shade layer material number</div><div class="line">+       Real64 AbsorpEff; // Effective absorptance of isolated shade layer (fraction of</div><div class="line">+       //  of incident radiation remaining after reflected portion is</div><div class="line">+       //  removed that is absorbed</div><div class="line">+</div><div class="line">+       if ( Surface( SurfNum ).Class == SurfaceClass_Window &amp;&amp; Surface( SurfNum ).WindowShadingControlPtr &gt; 0 ) {</div><div class="line">+           WinShadeCtrlNum = Surface( SurfNum ).WindowShadingControlPtr;</div><div class="line">+           if ( WindowShadingControl( WinShadeCtrlNum ).ShadingType == WSC_ST_InteriorShade || WindowShadingControl( WinShadeCtrlNum ).ShadingType == WSC_ST_ExteriorShade || WindowShadingControl( WinShadeCtrlNum ).ShadingType == WSC_ST_BetweenGlassShade ) {</div><div class="line">+               ConstrNumSh = Surface( SurfNum ).ShadedConstruction;</div><div class="line">+               TotLay = Construct( ConstrNumSh ).TotLayers;</div><div class="line">+               if ( WindowShadingControl( WinShadeCtrlNum ).ShadingType == WSC_ST_InteriorShade ) {</div><div class="line">+                   MatNumSh = Construct( ConstrNumSh ).LayerPoint( TotLay ); // Interior shade</div><div class="line">+               } else if ( WindowShadingControl( WinShadeCtrlNum ).ShadingType == WSC_ST_ExteriorShade ) {</div><div class="line">+                   MatNumSh = Construct( ConstrNumSh ).LayerPoint( 1 ); // Exterior shade</div><div class="line">+               } else if ( WindowShadingControl( WinShadeCtrlNum ).ShadingType == WSC_ST_BetweenGlassShade ) {</div><div class="line">+                   if ( Construct( ConstrNumSh ).TotGlassLayers == 2 ) {</div><div class="line">+                       MatNumSh = Construct( ConstrNumSh ).LayerPoint( 3 ); // Double pane with between-glass shade</div><div class="line">+                   } else {</div><div class="line">+                       MatNumSh = Construct( ConstrNumSh ).LayerPoint( 5 ); // Triple pane with between-glass shade</div><div class="line">+                   }</div><div class="line">+               }</div><div class="line">+               //! jake - set trans to shading fraction</div><div class="line">+               //! EMS Actuator Point: override setting if ems flag on</div><div class="line">+               if (SurfaceWindow(SurfNum).ShadingFractionEMSOn){</div><div class="line">+                   Material(MatNumSh).Trans = SurfaceWindow(SurfNum).ShadingFractionEMSValue;</div><div class="line">+               }</div><div class="line">+</div><div class="line">+               AbsorpEff = Material( MatNumSh ).AbsorpSolar / ( Material( MatNumSh ).AbsorpSolar + Material( MatNumSh ).Trans + 0.0001 );</div><div class="line">+               AbsorpEff = min( max( AbsorpEff, 0.0001 ), 0.999 ); // Constrain to avoid problems with following log eval</div><div class="line">+               SurfaceWindow( SurfNum ).ShadeAbsFacFace( 1 ) = ( 1.0 - std::exp( 0.5 * std::log( 1.0 - AbsorpEff ) ) ) / AbsorpEff;</div><div class="line">+               SurfaceWindow( SurfNum ).ShadeAbsFacFace( 2 ) = 1.0 - SurfaceWindow( SurfNum ).ShadeAbsFacFace( 1 );</div><div class="line">+                //std::cout &lt;&lt; &quot;1: &quot; &lt;&lt;  std::to_string(SurfaceWindow( SurfNum ).ShadeAbsFacFace( 1 )) &lt;&lt; &quot;&quot; &lt;&lt; std::endl;</div><div class="line">+                //std::cout &lt;&lt; &quot;2: &quot; &lt;&lt;  std::to_string(SurfaceWindow( SurfNum ).ShadeAbsFacFace( 2 )) &lt;&lt; &quot;&quot; &lt;&lt; std::endl;</div><div class="line">+</div><div class="line">+           }</div><div class="line">+       }</div><div class="line">+</div><div class="line">+   } /* No-MASS new lines end */</div><div class="line">+</div><div class="line">    void</div><div class="line">    CalcWinTransDifSolInitialDistribution()</div><div class="line">    {</div></div><!-- fragment --></div></div></div></div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><div id="DaylightingManager_cc"><div id="EMSManager_cc"><div id="SolarShading_cc"> <a href='#Introduction'>[Back to top]</a> </div></div></div></div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><div id="DaylightingManager_cc"><div id="EMSManager_cc"><div id="SolarShading_cc"><div id="SolarShading_hh"> </div></div></div></div></div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><div id="DaylightingManager_cc"><div id="EMSManager_cc"><div id="SolarShading_cc"><div id="SolarShading_hh"><h3>SolarShading.hh</h3>
</div></div></div></div></div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><div id="DaylightingManager_cc"><div id="EMSManager_cc"><div id="SolarShading_cc"><div id="SolarShading_hh"></div></div></div></div></div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><div id="DaylightingManager_cc"><div id="EMSManager_cc"><div id="SolarShading_cc"><div id="SolarShading_hh"><div class="fragment"><div class="line">--- ../EnergyPlus-8.6.0/src/EnergyPlus/SolarShading.hh</div><div class="line">+++ ../EnergyPlus-8.6.0/src/EnergyPlus/SolarShading.hh</div><div class="line">@@ -476,7 +476,11 @@</div><div class="line"></div><div class="line">    void</div><div class="line">    ComputeWinShadeAbsorpFactors();</div><div class="line">-</div><div class="line">+   /* No-MASS new lines begin */</div><div class="line">+   void </div><div class="line">+   ComputeWinShadeAbsorpFactorsFor(int SurfNum);</div><div class="line">+   /* No-MASS new lines end */</div><div class="line">+   </div><div class="line">    void</div><div class="line">    CalcWinTransDifSolInitialDistribution();</div></div><!-- fragment --></div></div></div></div></div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><div id="DaylightingManager_cc"><div id="EMSManager_cc"><div id="SolarShading_cc"><div id="SolarShading_hh"> <a href='#Introduction'>[Back to top]</a> </div></div></div></div></div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><div id="DaylightingManager_cc"><div id="EMSManager_cc"><div id="SolarShading_cc"><div id="SolarShading_hh"><div id="WindowManager_cc"> </div></div></div></div></div></div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><div id="DaylightingManager_cc"><div id="EMSManager_cc"><div id="SolarShading_cc"><div id="SolarShading_hh"><div id="WindowManager_cc"><h3>WindowManager.cc</h3>
</div></div></div></div></div></div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><div id="DaylightingManager_cc"><div id="EMSManager_cc"><div id="SolarShading_cc"><div id="SolarShading_hh"><div id="WindowManager_cc"></div></div></div></div></div></div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><div id="DaylightingManager_cc"><div id="EMSManager_cc"><div id="SolarShading_cc"><div id="SolarShading_hh"><div id="WindowManager_cc"><div class="fragment"><div class="line">--- ../EnergyPlus-8.6.0/src/EnergyPlus/WindowManager.cc</div><div class="line">+++ ../EnergyPlus-8.6.0/src/EnergyPlus/WindowManager.cc</div><div class="line">@@ -3040,10 +3040,30 @@</div><div class="line"></div><div class="line">        if ( ShadeFlag == IntShadeOn || ShadeFlag == ExtShadeOn || ShadeFlag == IntBlindOn || ShadeFlag == ExtBlindOn || ShadeFlag == BGShadeOn || ShadeFlag == BGBlindOn || ShadeFlag == ExtScreenOn ) {</div><div class="line">            nglfacep = nglface + 2;</div><div class="line">+           </div><div class="line">+           /* No-MASS new lines begin */</div><div class="line">+           //ShadeAbsFac1 = SurfaceWindow( SurfNum ).ShadeAbsFacFace( 1 );</div><div class="line">+           //ShadeAbsFac2 = SurfaceWindow( SurfNum ).ShadeAbsFacFace( 2 );</div><div class="line">+                       //jake</div><div class="line">+           //DisplayString( &quot;ab1: &quot; + std::to_string(ShadeAbsFac1) + &quot; :&quot;);</div><div class="line">+           //DisplayString( &quot;ab1: &quot; + std::to_string(ShadeAbsFac2) + &quot; :&quot;);</div><div class="line">+</div><div class="line">+           EnergyPlus::SolarShading::ComputeWinShadeAbsorpFactorsFor(SurfNum);</div><div class="line">+</div><div class="line">            ShadeAbsFac1 = SurfaceWindow( SurfNum ).ShadeAbsFacFace( 1 );</div><div class="line">            ShadeAbsFac2 = SurfaceWindow( SurfNum ).ShadeAbsFacFace( 2 );</div><div class="line">+</div><div class="line">+           //DisplayString( &quot;bb1: &quot; + std::to_string(ShadeAbsFac1) + &quot; :&quot;);</div><div class="line">+           //DisplayString( &quot;bb1: &quot; + std::to_string(ShadeAbsFac2) + &quot; :&quot;);</div><div class="line">+</div><div class="line">            AbsRadShadeFace( 1 ) = ( SurfaceWindow( SurfNum ).ExtBeamAbsByShade + SurfaceWindow( SurfNum ).ExtDiffAbsByShade ) * ShadeAbsFac1 + ( SurfaceWindow( SurfNum ).IntBeamAbsByShade + SurfaceWindow( SurfNum ).IntSWAbsByShade ) * ShadeAbsFac2;</div><div class="line">            AbsRadShadeFace( 2 ) = ( SurfaceWindow( SurfNum ).ExtBeamAbsByShade + SurfaceWindow( SurfNum ).ExtDiffAbsByShade ) * ShadeAbsFac2 + ( SurfaceWindow( SurfNum ).IntBeamAbsByShade + SurfaceWindow( SurfNum ).IntSWAbsByShade ) * ShadeAbsFac1;</div><div class="line">+</div><div class="line">+</div><div class="line">+           //DisplayString( &quot;cb1: &quot; + std::to_string(AbsRadShadeFace( 1 )) + &quot; :&quot;);</div><div class="line">+           //DisplayString( &quot;cb1: &quot; + std::to_string(AbsRadShadeFace( 2 )) + &quot; :&quot;); </div><div class="line">+           /* No-MASS new lines end */</div><div class="line">+           </div><div class="line">            if ( ShadeFlag == IntShadeOn || ShadeFlag == IntBlindOn ) AbsRadShadeFace( 2 ) += SurfaceWindow( SurfNum ).IntLWAbsByShade;</div><div class="line">            sconsh = scon( ngllayer + 1 );</div><div class="line">            TauShIR = tir( nglface + 1 );</div></div><!-- fragment --></div></div></div></div></div></div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><div id="DaylightingManager_cc"><div id="EMSManager_cc"><div id="SolarShading_cc"><div id="SolarShading_hh"><div id="WindowManager_cc"> <a href='#Introduction'>[Back to top]</a> </div></div></div></div></div></div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><div id="DaylightingManager_cc"><div id="EMSManager_cc"><div id="SolarShading_cc"><div id="SolarShading_hh"><div id="WindowManager_cc"><div id="Compiling-on-Linux"> </div></div></div></div></div></div></div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><div id="DaylightingManager_cc"><div id="EMSManager_cc"><div id="SolarShading_cc"><div id="SolarShading_hh"><div id="WindowManager_cc"><div id="Compiling-on-Linux"><h2>Compiling on Linux</h2>
</div></div></div></div></div></div></div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><div id="DaylightingManager_cc"><div id="EMSManager_cc"><div id="SolarShading_cc"><div id="SolarShading_hh"><div id="WindowManager_cc"><div id="Compiling-on-Linux"></div></div></div></div></div></div></div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><div id="DaylightingManager_cc"><div id="EMSManager_cc"><div id="SolarShading_cc"><div id="SolarShading_hh"><div id="WindowManager_cc"><div id="Compiling-on-Linux">The compilation process has to be completed after modification in the source code has been done. These instructions are written around Ubuntu 14.04 LTS, but they might remain valid for most of Linux distributions.</div></div></div></div></div></div></div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><div id="DaylightingManager_cc"><div id="EMSManager_cc"><div id="SolarShading_cc"><div id="SolarShading_hh"><div id="WindowManager_cc"><div id="Compiling-on-Linux"><ol type="1">
<li>Install the g++ compiler with Fortran utilities to compile the code. Fortran utilities are used to process EnergyPlus output files. The g++ compiler can be installed from terminal with the following command. <div class="fragment"><div class="line">sudo apt-get install g++ gfortran</div></div><!-- fragment --></li>
<li>Install CMake tools. A terminal-based user insterface can be installed with the following command. <div class="fragment"><div class="line">sudo apt-get install cmake cmake-curses-gui</div></div><!-- fragment --> Version of installed programmes can be verified with the following commands from a terminal. <div class="fragment"><div class="line">g++ --version</div><div class="line">cmake --version</div></div><!-- fragment -->  <style>div.image img[src="gcompiler_cmake_version.png"]{width:600px;}</style>  <div class="image">
<img src="gcompiler_cmake_version.png" alt="gcompiler_cmake_version.png"/>
<div class="caption">
g++ compiler and cmake installed versions</div></div>
</li>
<li>Navigate in the terminal to the root of the EnergyPlus source code folder and create the build folder where the code will be compiled. <div class="fragment"><div class="line">cd /home/daps/Documents/No-MASS-GUI/EnergyPlus-8.6.0</div><div class="line">mkdir build</div><div class="line">cd build</div></div><!-- fragment --></li>
<li>Launch CMake from the build location by executing the following command from terminal. <div class="fragment"><div class="line">ccmake ../</div></div><!-- fragment --> where <code>../</code> referes to the build's parent folder (root folder).</li>
<li>Configure the build by pressing <em><b>c</b></em>, and a list of editable build options will be presented. Set the CMAKE_BUILD_TYPE type to "Release" and turn on the BUILD_FORTRAN options at this step. Press <em><b>c</b></em> again to reconfigure after completing changes, then <em><b>g</b></em> to generate makefiles and exit.   <style>div.image img[src="ccmake_gui_step2.png"]{width:600px;}</style>  <div class="image">
<img src="ccmake_gui_step2.png" alt="ccmake_gui_step2.png"/>
<div class="caption">
Build options</div></div>
</li>
<li>Finally, run <code>make -j N</code>, where <code>N</code> is the number of job slots to execute multiple jobs at once. The default number of job slots is one, which means one job at time. The number of job slots depends on the available hardware resources (CPU cores and memory), and the memory required by each make job.   <style>div.image img[src="make_output.png"]{width:600px;}</style>  <div class="image">
<img src="make_output.png" alt="make_output.png"/>
<div class="caption">
`make -j 2` output</div></div>
</li>
<li>The compiled EnergyPlus can be found in the <code>build/Products</code> folder.   <style>div.image img[src="EPlus_exeFolder.png"]{width:800px;}</style>  <div class="image">
<img src="EPlus_exeFolder.png" alt="EPlus_exeFolder.png"/>
<div class="caption">
EnergyPlus and ReadVarsESO applications folder</div></div>
</li>
</ol>
</div></div></div></div></div></div></div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><div id="DaylightingManager_cc"><div id="EMSManager_cc"><div id="SolarShading_cc"><div id="SolarShading_hh"><div id="WindowManager_cc"><div id="Compiling-on-Linux"> <a href='#Introduction'>[Back to top]</a> </div></div></div></div></div></div></div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><div id="DaylightingManager_cc"><div id="EMSManager_cc"><div id="SolarShading_cc"><div id="SolarShading_hh"><div id="WindowManager_cc"><div id="Compiling-on-Linux"><div id="Compiling-on-Windows"> </div></div></div></div></div></div></div></div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><div id="DaylightingManager_cc"><div id="EMSManager_cc"><div id="SolarShading_cc"><div id="SolarShading_hh"><div id="WindowManager_cc"><div id="Compiling-on-Linux"><div id="Compiling-on-Windows"><h2>Compiling on Windows</h2>
</div></div></div></div></div></div></div></div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><div id="DaylightingManager_cc"><div id="EMSManager_cc"><div id="SolarShading_cc"><div id="SolarShading_hh"><div id="WindowManager_cc"><div id="Compiling-on-Linux"><div id="Compiling-on-Windows"></div></div></div></div></div></div></div></div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><div id="DaylightingManager_cc"><div id="EMSManager_cc"><div id="SolarShading_cc"><div id="SolarShading_hh"><div id="WindowManager_cc"><div id="Compiling-on-Linux"><div id="Compiling-on-Windows">The compilation process followed in this guide is based on Visual Studio. The code can also be compiled using GCC. although the process is no included in this guide.</div></div></div></div></div></div></div></div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><div id="DaylightingManager_cc"><div id="EMSManager_cc"><div id="SolarShading_cc"><div id="SolarShading_hh"><div id="WindowManager_cc"><div id="Compiling-on-Linux"><div id="Compiling-on-Windows"><ol type="1">
<li>Install Visual Studio. Visual Studio Community is distributed by Microsoft and free to use. Select the <code>Desktop development with C++</code> workload from the main window options and click install.   <style>div.image img[src="VSC2017_step1.png"]{width:800px;}</style>  <div class="image">
<img src="VSC2017_step1.png" alt="VSC2017_step1.png"/>
<div class="caption">
Visual Studio Community 2017</div></div>
</li>
<li>Install Python 2. It can be downloaded at <a href="https://www.python.org/downloads/">https://www.python.org/downloads</a></li>
<li>Install cmake that includes a graphic user interface (cmake-gui). Cmake can be downloaded at <a href="https://cmake.org/download/">https://cmake.org/download</a>.</li>
<li>Install MinGW - Minimalist GNU for Windows to support Fortran utilities. MinGW for Windows can be downloaded at <a href="http://mingw-w64.org/doku.php/download">http://mingw-w64.org/doku.php/download</a>.   <style>div.image img[src="mingw64_selectoptions.png"]{width:800px;}</style>  <div class="image">
<img src="mingw64_selectoptions.png" alt="mingw64_selectoptions.png"/>
<div class="caption">
MinGW with Fortran support</div></div>
</li>
<li>Open <code>CMake (cmake-gui)</code>, point the <code>source code</code> to the root folder of the EnergyPlus code and the <code>build</code> folder to the location inside the root folder.   <style>div.image img[src="win_cmake_step1.png"]{width:600px;}</style>  <div class="image">
<img src="win_cmake_step1.png" alt="win_cmake_step1.png"/>
<div class="caption">
CMake-GUI</div></div>
</li>
<li>Click <code>Configure</code> and choose <code>Visual Studio 15</code> or <code>Visual Studio 15 Win64</code>.   <style>div.image img[src="win_cmake_step2.png"]{width:400px;}</style>  <div class="image">
<img src="win_cmake_step2.png" alt="win_cmake_step2.png"/>
<div class="caption">
CMake-GUI configuration</div></div>
</li>
<li>Enable the <code>BUILD_FORTRAN</code> option, then click <code>Generate</code> to produce a Visual Studio solution.   <style>div.image img[src="win_cmake_step3.png"]{width:600px;}</style>  <div class="image">
<img src="win_cmake_step3.png" alt="win_cmake_step3.png"/>
<div class="caption">
CMake-GUI generate Visual Studio solution</div></div>
</li>
<li>Open the solution in Visual Studio, select the build type to <code>Release</code> and compile the solution from the menu <code>Build/Build Solution</code>.   <style>div.image img[src="vs_compilerelease.png"]{width:600px;}</style>  <div class="image">
<img src="vs_compilerelease.png" alt="vs_compilerelease.png"/>
<div class="caption">
Release build compilation</div></div>
</li>
<li>The compiled EnergyPlus can be found in the <code>build/Products/Release</code> folder.   <style>div.image img[src="vs_compilerelease3.png"]{width:600px;}</style>  <div class="image">
<img src="vs_compilerelease3.png" alt="vs_compilerelease3.png"/>
<div class="caption">
EnergyPlus.exe applications folder</div></div>
</li>
<li>Finally, copy the <code>Energy+.idd</code> file from <code>Products</code> to <code>Products/Release</code> folder.</li>
</ol>
</div></div></div></div></div></div></div></div></div></div></div><div id="Introduction"><div id="Download-source-code"><div id="EnergyPlus-Source-Code-Changes"><div id="DataSurfaces_hh"><div id="DaylightingManager_cc"><div id="EMSManager_cc"><div id="SolarShading_cc"><div id="SolarShading_hh"><div id="WindowManager_cc"><div id="Compiling-on-Linux"><div id="Compiling-on-Windows"> <a href='#Introduction'>[Back to top]</a>  </div></div></div></div></div></div></div></div></div></div></div></div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">No-MASS-GUI</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
